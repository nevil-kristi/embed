!(function (e) {
  "use strict";
  const t = {
    config: {
      appUrl: "https://captaincook.dev-v3.path.pro/quote",
      overlayId: "roq-embed-overlay",
      iframeId: "roq-embed-iframe",
      closeButtonId: "roq-embed-close",
    },
    init: function (e) {
      const o = e || this.config.appUrl;
      if (document.getElementById(this.config.overlayId))
        return void console.warn("ROQ overlay already open");
      this.createOverlay(o), this.attachEventListeners();
    },
    createOverlay: function (e) {
      const t = document.createElement("div");
      (t.id = this.config.overlayId),
        (t.style.cssText =
          "position:fixed;top:0;left:0;width:100%;height:100%;background-color:rgba(0,0,0,0.5);z-index:999999;display:flex;justify-content:center;align-items:center;opacity:0;transition:opacity 0.3s ease-in-out");
      const o = document.createElement("div");
      o.style.cssText =
        "position:relative;width:100%;height:100%;background-color:white;border-radius:8px;box-shadow:0 4px 30px rgba(0,0,0,0.3);overflow:hidden";
      const i = document.createElement("button");
      (i.id = this.config.closeButtonId),
        (i.innerHTML = "&times;"),
        i.setAttribute("aria-label", "Close"),
        (i.style.cssText =
          "position:absolute;top:15px;right:15px;width:40px;height:40px;background-color:rgba(0,0,0,0.7);color:white;border:none;border-radius:50%;font-size:28px;cursor:pointer;z-index:1000000;transition:all 0.2s"),
        (i.onmouseover = function () {
          (this.style.backgroundColor = "rgba(0,0,0,0.9)"),
            (this.style.transform = "scale(1.1)");
        }),
        (i.onmouseout = function () {
          (this.style.backgroundColor = "rgba(0,0,0,0.7)"),
            (this.style.transform = "scale(1)");
        });
      const s = document.createElement("iframe");
      (s.id = this.config.iframeId),
        (s.src = e),
        (s.style.cssText = "width:100%;height:100%;border:none"),
        s.setAttribute("allowfullscreen", "true"),
        s.setAttribute("allow", "camera; microphone; geolocation; payment"),
        o.appendChild(i),
        o.appendChild(s),
        t.appendChild(o),
        document.body.appendChild(t),
        (document.body.style.overflow = "hidden"),
        setTimeout(() => {
          t.style.opacity = "1";
        }, 10);
    },
    attachEventListeners: function () {
      const e = document.getElementById(this.config.overlayId),
        t = document.getElementById(this.config.closeButtonId);
      t.addEventListener("click", () => this.close()),
        e.addEventListener("click", (e) => {
          e.target === e.currentTarget && this.close();
        }),
        document.addEventListener("keydown", (e) => {
          "Escape" === e.key && this.close();
        });
    },
    close: function () {
      const e = document.getElementById(this.config.overlayId);
      e &&
        ((e.style.opacity = "0"),
        setTimeout(() => {
          e.remove(), (document.body.style.overflow = "");
        }, 300));
    },
    isOpen: function () {
      return !!document.getElementById(this.config.overlayId);
    },
  };
  e.roqEmbed = t;
})(window);
